<!DOCTYPE html>
<html lang="es">
<head>
<title>ajax2-ejemplo06</title>
<script>
window.addEventListener("load",inicia,false);
var datos=new FormData();
function inicia(){
   var cficheros;
   cfichero=document.getElementById("ficheros");
   cfichero.addEventListener("click",miajax);
}

function miajax(){
   ajax=new XMLHttpRequest();   
   ajax.addEventListener("load",mostrar,false);
   ajax.open("GET","ficherosdetrabajo/mac.png",true);
   ajax.send(datos);
   ajax.responseType="blob";
}

function mostrar(e){
   var v_resultado=document.getElementById("resultado");
   var imagen=document.createElement("img");
   imagen.src=URL.createObjectURL(e.target.response);
   v_resultado.appendChild(imagen);
}

</script>

</head>
<body>
<section id="peticion">
    <button id="ficheros">pulsa</button>
</section>
<section id="resultado">
</section>
</body>
</html>